import{r as s,u as T,f as P,a as q,P as K,b as L,j as e,m as z}from"./index-DszV8_sU.js";import{t as b}from"./testQuestions-C8v4aEpm.js";import{a as O,F as B}from"./LightBulbIcon-CPUBfzfa.js";function U({title:t,titleId:o,...r},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},r),t?s.createElement("title",{id:o},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const A=s.forwardRef(U);function D({title:t,titleId:o,...r},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},r),t?s.createElement("title",{id:o},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Q=s.forwardRef(D);function F(){const t=s.useRef(!1);return T(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function W(){const t=F(),[o,r]=s.useState(0),i=s.useCallback(()=>{t.current&&r(o+1)},[o]);return[s.useCallback(()=>P.postRender(i),[i]),o]}class Y extends s.Component{getSnapshotBeforeUpdate(o){const r=this.props.childRef.current;if(r&&o.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function H({children:t,isPresent:o}){const r=s.useId(),i=s.useRef(null),p=s.useRef({width:0,height:0,top:0,left:0});return s.useInsertionEffect(()=>{const{width:x,height:h,top:u,left:y}=p.current;if(o||!i.current||!x||!h)return;i.current.dataset.motionPopId=r;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${h}px !important;
            top: ${u}px !important;
            left: ${y}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[o]),s.createElement(Y,{isPresent:o,childRef:i,sizeRef:p},s.cloneElement(t,{ref:i}))}const M=({children:t,initial:o,isPresent:r,onExitComplete:i,custom:p,presenceAffectsLayout:x,mode:h})=>{const u=q(G),y=s.useId(),m=s.useMemo(()=>({id:y,initial:o,isPresent:r,custom:p,onExitComplete:l=>{u.set(l,!0);for(const d of u.values())if(!d)return;i&&i()},register:l=>(u.set(l,!1),()=>u.delete(l))}),x?void 0:[r]);return s.useMemo(()=>{u.forEach((l,d)=>u.set(d,!1))},[r]),s.useEffect(()=>{!r&&!u.size&&i&&i()},[r]),h==="popLayout"&&(t=s.createElement(H,{isPresent:r},t)),s.createElement(K.Provider,{value:m},t)};function G(){return new Map}function V(t){return s.useEffect(()=>()=>t(),[])}const j=t=>t.key||"";function X(t,o){t.forEach(r=>{const i=j(r);o.set(i,r)})}function _(t){const o=[];return s.Children.forEach(t,r=>{s.isValidElement(r)&&o.push(r)}),o}const J=({children:t,custom:o,initial:r=!0,onExitComplete:i,exitBeforeEnter:p,presenceAffectsLayout:x=!0,mode:h="sync"})=>{const u=s.useContext(L).forceRender||W()[0],y=F(),m=_(t);let l=m;const d=s.useRef(new Map).current,N=s.useRef(l),g=s.useRef(new Map).current,R=s.useRef(!0);if(T(()=>{R.current=!1,X(m,g),N.current=l}),V(()=>{R.current=!0,g.clear(),d.clear()}),R.current)return s.createElement(s.Fragment,null,l.map(n=>s.createElement(M,{key:j(n),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:x,mode:h},n)));l=[...l];const w=N.current.map(j),v=m.map(j),E=w.length;for(let n=0;n<E;n++){const a=w[n];v.indexOf(a)===-1&&!d.has(a)&&d.set(a,void 0)}return h==="wait"&&d.size&&(l=[]),d.forEach((n,a)=>{if(v.indexOf(a)!==-1)return;const c=g.get(a);if(!c)return;const f=w.indexOf(a);let k=n;if(!k){const I=()=>{d.delete(a);const $=Array.from(g.keys()).filter(C=>!v.includes(C));if($.forEach(C=>g.delete(C)),N.current=m.filter(C=>{const S=j(C);return S===a||$.includes(S)}),!d.size){if(y.current===!1)return;u(),i&&i()}};k=s.createElement(M,{key:j(c),isPresent:!1,onExitComplete:I,custom:o,presenceAffectsLayout:x,mode:h},c),d.set(a,k)}l.splice(f,0,k)}),l=l.map(n=>{const a=n.key;return d.has(a)?n:s.createElement(M,{key:j(n),isPresent:!0,presenceAffectsLayout:x,mode:h},n)}),s.createElement(s.Fragment,null,d.size?l:l.map(n=>s.cloneElement(n)))},se=()=>{var w,v,E;const[t,o]=s.useState(0),[r,i]=s.useState([]),[p,x]=s.useState(!1),[h,u]=s.useState([]),y=n=>{const a=[...r];a[t]=n,i(a)},m=()=>{t<b.length-1?o(t+1):d()},l=()=>{t>0&&o(t-1)},d=()=>{const n={texnik:0,ijtimoiy:0,tabiiy:0,ijodiy:0,biznes:0};r.forEach(c=>{c===0?n.texnik+=2:c===1?n.ijtimoiy+=2:c===2?n.tabiiy+=2:c===3?n.ijodiy+=2:c===4&&(n.biznes+=2)});const a=Object.entries(n).map(([c,f])=>({category:c,score:f,recommendations:N(c,f)})).sort((c,f)=>f.score-c.score);u(a),x(!0)},N=(n,a)=>{const f={texnik:["Kompyuter injiniringi","Axborot xavfsizligi","Dasturiy injiniring"],ijtimoiy:["Xalqaro munosabatlar","Psixologiya","Ijtimoiy ish"],tabiiy:["Tibbiyot","Biologiya","Kimyo"],ijodiy:["Dizayn","Arxitektura","San'atshunoslik"],biznes:["Iqtisodiyot","Menejment","Marketing"]}[n]||[];return a>=8?f:a>=6?f.slice(0,2):f.slice(0,1)},g=n=>({texnik:"Texnik yo'nalishlar",ijtimoiy:"Ijtimoiy yo'nalishlar",tabiiy:"Tabiiy fanlar",ijodiy:"Ijodiy yo'nalishlar",biznes:"Biznes yo'nalishlar"})[n]||n,R=()=>{o(0),i([]),x(!1),u([])};return p?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(O,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Test yakunlandi!"}),e.jsx("p",{className:"text-gray-600",children:"Sizning natijalaringiz va tavsiyalar"})]}),e.jsx("div",{className:"space-y-6 mb-8",children:h.map((n,a)=>e.jsxs(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.1},className:"border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:g(n.category)}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[n.score," ball"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-3 rounded-full transition-all duration-1000",style:{width:`${n.score/10*100}%`}})}),n.recommendations.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Tavsiya etilgan yo'nalishlar:"}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center sm:justify-start",children:n.recommendations.map((c,f)=>e.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:c},f))})]})]},n.category))}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx(B,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sizning eng mos yo'nalishingiz"}),e.jsx("p",{className:"text-blue-600 font-medium text-xl",children:g((w=h[0])==null?void 0:w.category)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:R,className:"px-6 py-3 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:"Testni qayta o'tish"}),e.jsx("button",{onClick:()=>window.location.href="/directions",className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all",children:"Yo'nalishlarni ko'rish"})]})]})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Yo'nalish tanlash testi"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Sizning qiziqishlaringiz va qobiliyatlaringizga mos yo'nalishlarni aniqlash uchun testni o'ting"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Savol ",t+1," / ",b.length]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round((t+1)/b.length*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${(t+1)/b.length*100}%`}})})]}),e.jsx(J,{mode:"wait",children:e.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:(v=b[t])==null?void 0:v.questionUz}),e.jsx("div",{className:"space-y-4",children:(E=b[t])==null?void 0:E.optionsUz.map((n,a)=>e.jsx(z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(a),className:`w-full p-4 text-left rounded-lg border-2 transition-all duration-200 ${r[t]===a?"border-blue-600 bg-blue-50 text-blue-900":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 mr-3 ${r[t]===a?"border-blue-600 bg-blue-600":"border-gray-300"}`,children:r[t]===a&&e.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),e.jsx("span",{className:"text-gray-900",children:n})]})},a))})]},t)}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:l,disabled:t===0,className:`flex items-center px-6 py-3 rounded-lg transition-all ${t===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50 shadow-md"}`,children:[e.jsx(A,{className:"h-5 w-5 mr-2"}),"Oldingi"]}),e.jsxs("button",{onClick:m,disabled:r[t]===void 0,className:`flex items-center px-6 py-3 rounded-lg transition-all ${r[t]===void 0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 shadow-md"}`,children:[t===b.length-1?"Yakunlash":"Keyingi",e.jsx(Q,{className:"h-5 w-5 ml-2"})]})]})]})})};export{se as default};
